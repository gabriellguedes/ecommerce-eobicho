{% extends 'site/base.html' %}
{% block title%}
{{block.super}} - Home
{% endblock title %}
{% block content %}
{% load crispy_forms_tags %}
<div class="container"> 
	{% csrf_token %}
	<table class="table">
	  <thead class="thead-light">
	    <tr>
	      <th scope="col">#</th>
	      <th scope="col">Tutor</th>
	      <th scope="col">Nome do Pet</th>
	      <th scope="col">Espécie</th>
	      <th scope="col"></th>
	    </tr>
	  </thead>
	  <tbody>
	  	 {% for pet in pets %}
		    <tr>
		   	  <th scope="row">{{pet.id}}</th>
		      <td></td>
		      <td><a href="{% url 'pet:detail' pk=pet.id %}">{{pet.nome}}</a> ({{pet.apelido}})</td>
		      <td class="text-uppercase">{{pet.especie}}</td>
		      <td>
		      	<a class="btn btn-primary btn-md" href="{% url 'pet:detail' pk=pet.id %}">Visualizar</a>
		      	<a class="btn btn-primary btn-md" href="{% url 'pet:update' pk=pet.id %}">Editar</a>	
		      	<a class="btn btn-primary btn-md" href="{% url 'pet:delete' pk=pet.id %}">Deletar</a>
		      </td>
		    </tr>
	    {% endfor %}
	  </tbody>
	</table>
	
<!-- Paginator -->
	<div class="col">
		<p>Itens por página:</p>
		<nav>
			<ul class="pagination pagination-sm">
			{% for qnt in items_list %}
				{% if qnt == qnt_page %}
					<li class="page-item active">
						<a class="page-link" href="#" tabindex="-1">{{ qnt }}</a>
					</li>	
					
				{% else %}
					<li class="page-item">
						<a class="page-link" href="{% url 'pet:list'%}?limit={{qnt}}">{{ qnt }}</a>
					</li>	
					
				{% endif %}
			{% endfor %}
			</ul class="pagination pagination-sm">
		</nav>
	</div>
	<div class="col">
		<nav aria-label="...">
		  <ul class="pagination">
		  	{% if pets.has_previous %}
			  	<li class="page-item">
			      <a class="page-link" href="{% url 'pet:list'%}?limit={{qnt_page}}&page={{pets.previous_page_number}}">Anterior</a>
			    </li>
		    {% else %}
			    <li class="page-item disabled">
			      <a class="page-link"  href="#">Anterior</a>
			    </li>
		    {% endif %}
		    
		    {% for num in pets.paginator.page_range %}
		    	{% if num == pets.number %}
			    	<li class="page-item disabled">
			    		<a class="page-link" href="#">{{ num }}</a>
			    	</li>
		    	{% else %}
			    	<li class="page-item">
			    		<a class="page-link" href="{% url 'pet:list'%}?limit={{qnt_page}}&page={{num}}">{{ num }}</a>
			    	</li>
		    	{% endif %}	
		    {% endfor %}

			{% if pets.has_next %}	    
			    <li class="page-item">
			      <a class="page-link" href="{% url 'pet:list'%}?limit={{qnt_page}}&page={{pets.next_page_number}}" desabled>Next</a>
			    </li>
			{% else %}
				<li class="page-item disabled">
			      <a class="page-link" href="#">Next</a>
			    </li>    
			{% endif %}
		  </ul>
		</nav>
	</div>
	<!-- /Paginator -->
</div>
{% endblock %}